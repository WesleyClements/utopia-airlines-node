FROM openjdk:8-jdk-alpine
ARG JAR_FILE=target/*.jar

ARG DB_HOST
ENV DB_HOST=$DB_HOST
ARG DB_NAME
ENV DB_NAME=$DB_NAME
ARG DB_USER
ENV DB_USER=$DB_USER
ARG DB_PASSWORD
ENV DB_PASSWORD=$DB_PASSWORD

ARG AUTH_JWT_PRIVATE_KEY
ENV AUTH_JWT_PRIVATE_KEY=$AUTH_JWT_PRIVATE_KEY
ARG AUTH_JWT_PUBLIC_KEY
ENV AUTH_JWT_PUBLIC_KEY=$AUTH_JWT_PUBLIC_KEY

COPY ${JAR_FILE} app.jar
ENTRYPOINT ["java","-jar","/app.jar"]