<div *ngIf="user" class="container" id="page">
    <div class="row w-100">
        <div class="col-lg-4 col-md" id="userCard">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <div *ngIf="!edit">
                        <h2 class="card-title">{{ user.givenName }} {{ user.familyName }}</h2>

                        <p class="card-title"><b>Username:</b> {{ user.username }}</p>
                        <p class="card-title"><b>Email:</b> {{ user.email }}</p>
                        <p class="card-title"><b>Phone:</b> {{ user.phone }}</p>
                        <p class="card-title"><b>Role:</b> {{ user.role.name }}</p>
                    </div>
                    <div *ngIf="edit">
                        <form class="m-2" [formGroup]="updateUserForm">
                            <div class="form-group">
                                <input type="text" class="form-control" id="givenNameInput" formControlName="givenName"
                                    placeholder="{{ user.givenName }}">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="familyNameInput"
                                    formControlName="familyName" placeholder="{{ user.familyName }}">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="usernameInput" formControlName="username"
                                    placeholder="{{ user.username }}">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="emailInput" formControlName="email"
                                    placeholder="{{ user.email }}">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="phoneInput" formControlName="phone"
                                    placeholder="{{ user.phone }}">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="passwordInput" formControlName="password"
                                    placeholder="Enter New Password">
                            </div>
                        </form>
                    </div>
                    <div *ngIf="this.authService.user.username != this.user.username"
                        class="d-flex justify-content-end">
                        <button *ngIf="!edit" type="button" class="btn btn-light" id="updateButton"
                            (click)=toggleEdit()>Update</button>
                        <button *ngIf="edit" type="button" class="btn btn-dark" id="submitButton"
                            (click)=updateUser()>Submit</button>
                        <button *ngIf="!edit" type="button" class="btn btn-danger" id="deleteButton"
                            (click)=deleteUser() routerLink="/users">Delete</button>
                        <button *ngIf="edit" type="button" class="btn btn-light" id="submitButton"
                            (click)=toggleEdit()>cancel</button>
                    </div>
                </div>
            </div>
        </div>


        <div class="col-md" id="userBookings">
            <p>Temporary</p>
        </div>
    </div>
</div>
<app-spinner *ngIf="!user"></app-spinner>