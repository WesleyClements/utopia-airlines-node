<main class="container">
  <div class="row">
    <div class="col">
      <label class="form-label" for="origin-input">Origin</label>
      <input id="origin-input" class="form-control" type="text" name="origin" [(ngModel)]="origin">
    </div>
    <div class="col">
      <label class="form-label" for="destination-input">Destination</label>
      <input id="destination-input" class="form-control" type="text" name="destination" [(ngModel)]="destination">
    </div>
    <div class="col">
      <label class="form-label" for="departure-date-input">Departure Date</label>
      <input id="departure-date-input" class="form-control" type="date" name="departureDate"
        [(ngModel)]="departureDate">
    </div>
  </div>
  <ul class="list-group list-group-flush" *ngIf="flights.state==='done'">
    <li class="list-group-item my-2"
      *ngFor="let flight of (flights.data | flightRoute:origin:destination  | flightDepartureDate:departureDate);">
      <div class="row">
        <div class="col-md">
          <h3>UAW{{flight.id}} &#x01C1; {{flight.route.originId}} &#10095; {{flight.route.destinationId}}</h3>
        </div>
        <div class="col-md text-md-right">
          <h4>{{flight.departureTime.toLocaleString("en-US")}}</h4>
        </div>
      </div>
      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Max Capacity</th>
              <th scope="col">Reserved Seats</th>
              <th scope="col">Passenger Count</th>
              <th scope="col">Available Seats</th>
              <th scope="col">Seat Price</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{flight.maxCapacity}}</td>
              <td>{{flight.reservedSeats}}</td>
              <td>{{flight.passengerCount}}</td>
              <td>{{flight.availableSeats}}</td>
              <td>${{flight.seatPrice}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </li>
  </ul>
</main>